{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","services/apiService.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","id","src","alt","largeImageURL","onClick","ImageGalleryItemImage","ImageGallery","images","map","webformatURL","tags","fetchImages","searchQuery","currentPage","pageSize","axios","get","then","response","data","hits","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","console","log","onClose","handleBackdropClick","event","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","App","isLoading","showModal","imageAlt","onChangeQuery","options","imagesApi","prevState","scrollTo","top","documentElement","scrollHeight","behavior","catch","error","finally","toggleModal","imageHandler","prevProps","color","height","width","radius","timeout","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c4d0a321.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1B2Wi\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3V_f6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3z0gf\",\"Modal\":\"Modal_Modal__3aZMS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2BNkC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2icXP\"};","import React, { Component } from \"react\";\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = { query: \"\" };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            value={this.state.query}\r\n            onChange={this.handleChange}\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGalleryItem = ({ id, src, alt, largeImageURL, onClick }) => (\r\n  <li\r\n    key={id}\r\n    onClick={() => onClick(largeImageURL, alt)}\r\n    className={styles.ImageGalleryItem}\r\n  >\r\n    <img src={src} alt={alt} className={styles.ImageGalleryItemImage} />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  id: PropTypes.string,\r\n  src: PropTypes.string.isRequired,\r\n  alt: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport styles from \"./ImageGallery.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGallery = ({ images, onClick }) => (\r\n  <ul className={styles.ImageGallery}>\r\n    {images.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n      <ImageGalleryItem\r\n        key={id}\r\n        src={webformatURL}\r\n        alt={tags}\r\n        largeImageURL={largeImageURL}\r\n        onClick={onClick}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    })\r\n  ).isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import axios from \"axios\";\r\n\r\nconst KEY = \"21376741-4642603aeb6d51fadff9a1e81\";\r\n\r\nconst fetchImages = ({ searchQuery = \"\", currentPage = 1, pageSize = 12 }) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=${pageSize}`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\nexport default fetchImages;\r\n","import React from \"react\";\r\nimport styles from \"./Button.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"button\" onClick={onClick} className={styles.Button}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    console.log(\"Modal componentDidMount\");\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    console.log(\"Modal componentWillUnmount\");\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      console.log(\"Нажали ESC, нужно закрыть модалку\");\r\n\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (event) => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={styles.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport imagesApi from \"../src/services/apiService\";\nimport Button from \"./components/Button/Button\";\nimport Modal from \"./components/Modal/Modal\";\nimport Loader from \"react-loader-spinner\";\n// import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: \"\",\n    isLoading: false,\n    showModal: false,\n    largeImageURL: \"\",\n    imageAlt: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  onChangeQuery = (query) => {\n    this.setState({ searchQuery: query, currentPage: 1, images: [] });\n  };\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n    imagesApi(options)\n      .then((images) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n        }));\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  imageHandler = (largeImageURL) => {\n    this.toggleModal();\n    this.setState({ largeImageURL: largeImageURL });\n  };\n\n  render() {\n    const { images, showModal, largeImageURL, imageAlt, isLoading } =\n      this.state;\n\n    return (\n      <>\n        <Searchbar onSubmit={this.onChangeQuery} />\n        <ImageGallery images={images} onClick={this.imageHandler} />\n        {isLoading && (\n          <Loader\n            type=\"Oval\"\n            color=\"#3f51b5\"\n            height={80}\n            width={80}\n            radius={100}\n            timeout={7000}\n            className=\"Loader\"\n          />\n        )}\n        {images.length > 0 && <Button onClick={this.fetchImages} />}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img\n              src={largeImageURL}\n              alt={imageAlt}\n              onClick={this.imageHandler}\n            />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2-l0I\",\"SearchForm\":\"Searchbar_SearchForm__1v1Gn\",\"SearchFormButton\":\"Searchbar_SearchFormButton__FXnit\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__eQN0r\",\"SearchFormInput\":\"Searchbar_SearchFormInput__PcpUa\"};"],"sourceRoot":""}